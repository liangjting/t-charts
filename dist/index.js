/*!
 * @author: ljt
 * @date: Fri Jan 29 2021 18:15:33 GMT+0800 (中国标准时间)
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r,n=e();for(r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,function(){return(()=>{"use strict";var r={95:(t,e,r)=>{r.d(e,{default:()=>_});const n=function(t,e){var r=t.chartData.progress,n=(u=t.opts).width,a=u.height,o=u.label,i=t.context,l=t.opts.maxVal||100,c=e.padding||0,f=e.ringProgressBarWidth||10,u=Math.min(n,a)-2*c-f>>1,c=[parseInt(n/2),parseInt(a/2)],r=(t.opts.extraText,l<(r=null==r?0:r)?l:r);i.clearRect(0,0,n,a),i.lineWidth=f,i.strokeStyle="#eeeeee",i.beginPath(),i.arc.apply(i,c.concat([u,0,2*Math.PI])),i.stroke(),i.strokeStyle=e.ringProgressColor||"#ee0000",i.beginPath(),i.arc.apply(i,c.concat([u,1.5*Math.PI,(1.5+2*r/l)*Math.PI])),i.stroke(),i.fillStyle="#000000",i.font="".concat(.8*u,"px Microsoft YaHei"),i.textAlign="center",i.fillText(r,c[0],1.2*c[1]),o&&(i.fillStyle="#7e7e7e",i.font="".concat(.2*u,"px Microsoft YaHei"),i.fillText(o,c[0],1.5*c[1]))};var a={ringProgressColor:"#23cf8a",ringProgressBarWidth:10,colors:["#2adaf5","#ffaf3e","#ff3249"],textPadding:4};function o(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R(t,e){e=1<arguments.length&&void 0!==e?e:10;t=(t=String(t)).split("");var r=0;return t.forEach(function(t){/[a-zA-Z]/.test(t)?r+=7:/[0-9]/.test(t)?r+=5.5:/\./.test(t)?r+=2.7:/-/.test(t)?r+=3.25:/[\u4e00-\u9fa5]/.test(t)?r+=10:/\(|\)/.test(t)?r+=3.73:/\s/.test(t)?r+=2.5:/%/.test(t)?r+=8:r+=10}),r*e/10}function k(t,e,r,n){var a=2<arguments.length&&void 0!==r?r:0,o=3<arguments.length&&void 0!==n?n:{},r=a+(o.top||0),n=a+(o.left||0);return{top:r,left:n,width:t=t-n-a-(o.right||0),height:e=e-r-a-(o.bottom||0),right:n+t,bottom:e+r}}function x(t,e){var r=i(t,2),n=r[0],t=r[1],r=e.top;return[n+e.left,t+r]}function S(t,e){var r=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=l(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}(e);try{for(r.s();!(n=r.n()).done;){var n=n.value;n.color&&(t.fillStyle=n.color),t.fillRect.apply(t,o(n.data))}}catch(t){r.e(t)}finally{r.f()}}function y(t,e,r,n,a,o){o=5<arguments.length&&void 0!==o?o:1;t.save(),t.translate(.5,.5),t.lineWidth=1/o,t.beginPath(),t.moveTo(e,r),t.lineTo(n,a),t.stroke(),t.restore()}function b(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P(t,e,r,n){e.length,r.width,r.height;var a=n.markWidth||10,o=n.legendFontsize||14,i=[],l=0,c=n.legendPadding||20,f=n.shape||"circle";e.forEach(function(t){var e=a+2+R(t.label,o);i.push({color:t.color,label:t.label,offsetX:l,width:e}),l+=e+c}),t.font="".concat(o,"px sans-serif"),t.textBaseline="middle",t.textAlign="left";for(var u=0,s=i;u<s.length;u++){var d=s[u],h=[d.offsetX+a,r.height>>1],y=[d.offsetX+1.5*a+4,r.height>>1];t.fillStyle=d.color,"circle"==f?(t.beginPath(),t.arc.apply(t,b(x(h,r)).concat([a>>1,0,2*Math.PI])),t.fill()):(h=x(h,r),t.fillRect(h[0]-(a>>1),h[1]-(a>>1),a,a)),t.fillStyle="gray",t.fillText.apply(t,[d.label].concat(b(x(y,r))))}}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(t,e)||C(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const s=function(t,e){var r=(o=t.opts).width,n=o.height,a=t.context,o=e.padding||5,i=e.textPadding||0,l=t.chartData.data||[],c=k(r,n,o,{bottom:40,left:0});a.clearRect(0,0,r,n),a.lineWidth=1,a.strokeStyle="#eeeeee";for(var f=1/l.length,u=0,s=0;s<l.length;s++){a.strokeStyle=0==s?"gray":"#eeeeee",a.beginPath(),a.moveTo(c.left,c.bottom-s*f*c.height+1),a.lineTo(c.right,c.bottom-s*f*c.height+1),a.stroke();var d=l[s].data;0<d.length&&(u=Math.max(d[d.length-1][1],u))}for(var h=1;14<u/h;)h++;var y=parseInt(c.width/(u/h));a.textBaseline="top",a.textAlign="center",a.strokeStyle="gray";for(var b=0;b*y<c.width;b++)a.beginPath(),a.moveTo(b*y+c.left,c.bottom+1),a.lineTo(b*y+c.left,c.bottom+4),a.stroke(),a.fillText(b*h,b*y+c.left,c.bottom+i+4);for(var p,m,g,v,x,S,w,A=[],j=0,I=Object.entries(l);j<I.length;j++){var M=F(I[j],2),O=M[0],M=M[1];a.fillStyle=e.colors[O%e.colors.length],A.push({label:M.label,color:e.colors[O%e.colors.length]});var E,T=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=C(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}(M.data);try{for(T.s();!(E=T.n()).done;){var L=function(t,e){for(var e=1<arguments.length&&void 0!==e?e:[],r=[],n=0,a=Object.entries(e);n<a.length;n++){var o=F(a[n],2),i=o[0],o=o[1];r.push(t[i]/o)}return r}(L=E.value,[u,u]);p=a,m=L[0],g=1-O*f-f,v=L[1]-L[0],x=f,E=w=S=void 0,S=(L=c).left,w=L.top,E=L.width,L=L.height,p.fillRect(m*E+S,g*L+w,v*E,x*L)}}catch(t){T.e(t)}finally{T.f()}}P(a,A,k(r,n,o,{top:n-40+20}),{markWidth:10,legendFontsize:14})};function M(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||w(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E(t,e){var r=O(t,2),n=r[0],t=r[1],r=O(e,2),e=r[0],r=r[1];return Math.sqrt(Math.pow(e-n,2)+Math.pow(r-t,2))}function h(e,t,r,n){var a=0,o=r.width,i=r.height,l=[],c=r.labelSize||10;t.forEach(function(t,e){null==t.color&&(t.color=n.colors[e%n.colors.length]),a+=t.data,l.push({color:t.color,label:t.label,data:t.data})});var i=k(o,i,0,{bottom:0}),f=parseInt(Math.min(i.height,i.width)/2/1.3),u=x([i.width>>1,i.height>>1],i),s=1.5*Math.PI;e.strokeStyle="#ffffff",e.lineWidth=1/r.dpr;var d=[],h=[],y=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=w(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}(t);try{for(y.s();!(v=y.n()).done;){var b=v.value,p=Math.PI*b.data/a;e.fillStyle=b.color,e.beginPath(),e.moveTo.apply(e,M(u)),e.arc.apply(e,M(u).concat([f,s,2*p+s])),e.closePath(),e.fill(),e.stroke();var m=s+p;s+=2*p;var g=f*Math.cos(m),v=f*Math.sin(m),p=1.3*f*Math.cos(m),m=1.3*f*Math.sin(m);(0<=p?h:d).push({lineStart:[g+u[0],v+u[1]],lineEnd:[p+u[0],m+u[1]],color:b.color,label:r.labelFormat?r.labelFormat(b.label,b.data,a):b.label,textAlign:0<=p?"left":"right"})}}catch(t){y.e(t)}finally{y.f()}t=function(t,e,r,n,a,o){var i=t.labelsLeftQuarter,l=t.labelsRightQuarter,c=n.labelSize||10,f=c>>1;c+=n.labelMargin||1;for(var u=n.height,s=l.length,d=0;d<s;d++){var h=l[d],y=O(h.lineEnd,2),b=y[0],p=y[1],m=void 0;p<f&&(p=f),0==d?u-(s-d-1)*c-p<=0&&(p=f):(m=p-(g=l[d-1]).lineEnd[1],(y=u-(s-d-1)*c-p-f)<0?((p+=y)<g.lineEnd[1]||Math.abs(p-g.lineEnd[1]<c))&&(p=g.lineEnd[1]+c):m<c&&(p=g.lineEnd[1]+c));var m=o.measureText(h.label).width,g=void 0,g=E(e,[b=m+(b+=c)+2>a.right?(b=a.right-m-2)<h.lineStart[0]?h.lineStart[0]:b:b,p])<=r?b=Math.sqrt(r*r-(p-e[1])*(p-e[1]))+e[0]+c:(h.lineStart[0]+b)/2;h.lineEnd=[b,p],h.textStart=[b+2,p];p=h.lineEnd[1]+(h.lineStart[1]>=e[1]?c/2:-c/2);h.cp=[g,p]}s=(i=i.reverse()).length;for(var v=0;v<s;v++){var x=i[v],S=O(x.lineEnd,2),w=S[0],A=S[1],j=void 0,S=u-(s-v-1)*c-(A=A<f?f:A)-f;0==v?S<=0&&(A=f):(j=A-(I=i[v-1]).lineEnd[1],S<0?((A+=S)<I.lineEnd[1]||Math.abs(A-I.lineEnd[1]<c))&&(A=I.lineEnd[1]+c):j<c&&(A=I.lineEnd[1]+c)),w-=c;var j=o.measureText(x.label).width,I=void 0,I=E(e,[w=w<j+c+2?(w=j+c+2)>x.lineStart[0]?x.lineStart[0]:w:w,A])<=r?w=e[0]-Math.sqrt(r*r-(A-e[1])*(A-e[1]))-c:(x.lineStart[0]+w)/2;x.lineEnd=[w,A],x.textStart=[w-2,A];A=x.lineEnd[1]+(x.lineStart[1]>=e[1]?c/2:-c/2);x.cp=[I,A]}return[].concat(M(l),M(i))}({labelsRightQuarter:h,labelsLeftQuarter:d},u,f,r,i,e);return e.fillStyle="black",e.lineWidth=1,e.textBaseline="middle",e.font="".concat(c,"px sans-serif"),t.forEach(function(t){e.fillStyle=t.color,e.strokeStyle=t.color,e.beginPath(),e.moveTo.apply(e,M(t.lineStart)),"straight"==r.labelLine?e.lineTo.apply(e,M(t.lineEnd)):e.quadraticCurveTo.apply(e,M(t.cp).concat(M(t.lineEnd))),e.stroke(),e.textAlign=t.textAlign,e.fillText.apply(e,[t.label].concat(M(t.textStart)))}),{pieRadius:f,center:u,region:i}}function p(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function m(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){var e,r;e=n,t=a[r=t],r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function g(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=v(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function D(t){return function(t){if(Array.isArray(t))return A(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(t,e):void 0}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t,e){var r=1<arguments.length&&void 0!==e?e:{},n=t.length,a=r.xLabelNum||10,o=r.yLabelNum||5,i=r.xRange||10,l=r.yRange||10,c=r.yMax||10,f=r.xMax||10,u=[],s=[],d="function"==typeof r.xLabelFormat?r.xLabelFormat:function(t){return t},h="function"==typeof r.yLabelFormat?r.yLabelFormat:function(t){return t},y=r.xLabelAlign||"center",b=r.yLabelAlign||"end",p=0,e=0;if(r.xLabels){var m,g=1/((a=r.xLabels.length)||1);switch(y){case"start":m=0;break;case"end":m=g;break;default:m=g/2}for(var v=0;v<a;v++){var x=v*g+m;u.push([x,d(r.xLabels[v])])}}else if(0<n){p=t[0][0];var S,w=1/(a||1),A=(i=(f=r.xMax||t[n-1][0])-p)*w;switch(y=r.xLabelAlign||"start"){case"start":S=0;break;case"end":S=w;break;default:S=w/2}1<A?A=Math.round(A):A.toFixed(2);for(var j=0;j<a;j++){var I=j*w+S,M=I*i+p;u.push([I,d(1<A?M.toFixed(1):M.toFixed(2))])}}if(r.yLabels){var O=1/((o=r.yLabels.length)||1),E=0;switch(b){case"start":E=0;break;case"center":E=O/2;break;default:E=O}for(var T=0;T<o;T++)s.push([T*O+E,h(r.yLabels[T])])}else if(0<n){l=(c=r.yMax||Math.max.apply(Math,D(t.map(function(t){return t[1]}))))-(e=void 0!==r.yMin?r.yMin:Math.min.apply(Math,D(t.map(function(t){return t[1]}))));var L=c/o;1<L?L=Math.ceil(L):L.toFixed(2);for(var k=1;k<=o;k++){var P=k*L;s.push([P/c,h(1<L?k*L:P.toFixed(2))])}}var F=r.axisFontSize||10,t=s.reduce(function(t,e){return Math.max(R(e[1],F),t)},0);return{xLabels:u,yLabels:s,xLabelHeight:20,yLabelWidth:t,xMax:f,yMax:c,xOrigin:p,xRange:i,yRange:l,yMin:e}}function I(t,e,r,n){var a=n.axisFontSize||10,o=Math.ceil(e.xLabelHeight)+3+4,i=Math.ceil(e.yLabelWidth)+3+4;t.font="".concat(a,"px sans-serif"),t.lineWidth=1,t.strokeStyle=n.axisColor||"gray",y(t,r.left+i,r.bottom-o,r.right,r.bottom-o,n.dpr);var l=r.width-i,c=r.height-o-10,f=e.xLabels.map(function(t){return[Math.round(r.left+i+l*t[0]),t[1]]}),a=e.yLabels.map(function(t){return[Math.round(r.bottom-o-t[0]*c),t[1]]});t.fillStyle=n.axisLabelColor||"gray",t.textAlign="center",t.textBaseline="top";var u=g(f);try{for(u.s();!(s=u.n()).done;){var s=s.value;y(t,s[0],r.bottom-o,s[0],r.bottom-o+3,n.dpr),t.fillText(s[1],s[0],r.bottom-o+3+4)}}catch(t){u.e(t)}finally{u.f()}t.strokeStyle=n.axisColor||"#cccccc",t.textAlign="right",t.textBaseline="middle";var d=g(a);try{for(d.s();!(h=d.n()).done;){var h=h.value;y(t,r.left+i,h[0],r.right,h[0],n.dpr),t.fillText(h[1],r.left+i-3-4,h[0])}}catch(t){d.e(t)}finally{d.f()}return m(m({region:r=function(t,e){var r=1<arguments.length&&void 0!==e?e:{},n=t.left,a=t.top,o=t.width,e=t.height;return t.right,t.bottom,{top:a+=r.top||0,left:n+=r.left||0,width:o=r.width||0,height:e=r.height||0,right:n+o,bottom:a+e}}(r,{top:10,left:i,width:l,height:c})},e),{},{xLabels:f,yLabels:a})}function T(t){return function(t){if(Array.isArray(t))return z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||W(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(t,e)||W(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){if(t){if("string"==typeof t)return z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(t,e):void 0}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B(t,e){var r=L(t,2),n=r[0],a=r[1],t=e.left,r=e.bottom;return[n*e.width+t,r-a*e.height]}function $(t,e,r){var n=k(r.width||300,r.height||150),a=j(e,r),n=I(t,a,n,r),o=n.region;t.strokeStyle=r.color||"red";var i=a.xRange||10,l=a.yMax||10,c=n.xOrigin||0,e=e.map(function(t){var e=L(t,2),t=e[0],e=e[1];return[(t-c)/i,e/l]});if(0<e.length){t.beginPath(),t.moveTo.apply(t,T(B(e[0],o)));var f=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=W(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}(e);try{for(f.s();!(u=f.n()).done;){var u=u.value;t.lineTo.apply(t,T(B(u,o)))}}catch(t){f.e(t)}finally{f.f()}t.stroke()}}function U(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return H(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N(t){return function(t){if(Array.isArray(t))return X(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return X(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y(){var t,e,r,n,a=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.ready=!1,this.opts=o,"undefined"!=typeof wx?wx.createSelectorQuery().select("#"+o.canvasId).fields({node:!0,size:!0}).exec(function(t){var e=t[0].node,r=e.getContext("2d"),n=wx.getSystemInfoSync().pixelRatio;e.width=t[0].width*n,e.height=t[0].height*n,a.opts.width=t[0].width,a.opts.height=t[0].height,a.context=r,a.context.scale(n,n),a.opts.dpr=n,a.ready=!0,"function"==typeof a.onReady&&a.onReady()}):(e=(n=(t=document.getElementById(o.canvasId)).getBoundingClientRect()).height,r=n.width,this.opts.width=r,this.opts.height=e,n=window.devicePixelRatio,t.width=r*n,t.height=e*n,this.context=t.getContext("2d"),this.context.scale(n,n),this.opts.dpr=n,this.ready=!0),this.type=o.type||"",this.chartData=o.chartData||{},void 0===this.context.measureText&&(this.context.measureText=function(t){return{width:R(t,/(\d+)px/.test(this.font)?parseInt(RegExp.$1):10)}})}Y.prototype.draw=function(){switch(this.context.clearRect(0,0,this.opts.width,this.opts.height),this.type){case"ring-progress":n(this,a);break;case"load-chart":s(this,a);break;case"pie":h(this.context,this.chartData.data,this.opts,a);break;case"line":$(this.context,this.chartData.data,this.opts);break;case"bar":!function(t,e,r){var n=[],a=e.map(function(t){return n.push(t.label),[t.label,t.data]});r.xLabels=n;for(var a=I(t,j(a,r),k(r.width,r.height),r),o=[],i=(r.barWidth||16)>>1,l=((r=a.region).width,r.height),c=r.bottom,f=a.yMax,n=a.xLabels,u=0,s=Object.entries(e);u<s.length;u++){var d=U(s[u],2),h=d[0],d=d[1];o.push({color:d.color||"red",data:[n[h][0]-i,c-d.data/f*l,2*i,d.data/f*l]})}S(t,o)}(this.context,this.chartData.data,this.opts);break;case"stack-bar":!function(t,e,r,n){var a=[],o=e.map(function(t){return a.push(t.label),[t.label,t.data.reduce(function(t,e){return t+e},0)]});r.xLabels=a;for(var i=j(o,r),o=n.padding||0,i=I(t,i,k(r.width,r.height,o,{bottom:20,left:0}),r),l=[],c=(r.barWidth||16)>>1,f=((o=i.region).width,o.height),u=o.bottom,s=i.yMax,a=i.xLabels,d=0,h=Object.entries(e);d<h.length;d++)for(var y=(b=q(h[d],2))[0],b=b[1],p=0,m=0,g=Object.entries(b.data);m<g.length;m++){var v=q(g[m],2),x=v[0],v=v[1];p+=v,l.push({color:n.colors[x%n.colors.length],data:[a[y][0]-c,u-p/s*f,2*c,v/s*f]})}S(t,l),r.legends&&0<r.legends.length&&P(t,r.legends.map(function(t,e){return{color:n.colors[e%n.colors.length],label:t}}),k(r.width,r.height,0,{left:30,top:r.height-20}),{markWidth:12,legendFontsize:14,shape:"rect"})}(this.context,this.chartData.data,this.opts,a);break;case"ring":t=this.context,r=this.chartData.data,e=this.opts,r=h(t,r,e,r=a),e=e.ringWidth||24,t.fillStyle="#ffffff",e=(e=r.pieRadius-e)<0?0:e,t.beginPath(),t.arc.apply(t,N(r.center).concat([e,0,2*Math.PI])),t.fill()}var t,e,r},Y.prototype.feed=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e instanceof Array?this.chartData={data:e}:this.chartData=e,this.ready?this.draw():this.onReady=function(){t.draw()}};const _=Y},352:(t,e,r)=>{r.r(e);var r=r(95),n=20,a=new r.default({canvasId:"ring-progress",type:"ring-progress",chartData:{progress:n},label:"睡眠得分"});a.draw(),document.getElementById("test-btn").addEventListener("click",function(){n+=5,a.feed({progress:n})}),new r.default({canvasId:"load-chart",type:"load-chart",chartData:{}}).feed({data:[{label:"深睡",data:[[0,1],[2,3],[8,9.5]]},{label:"浅睡",data:[[1,2],[4,6],[9.5,10]]},{label:"清醒",data:[[3,4],[6,8]]}]}),new r.default({canvasId:"pie",type:"pie",labelFormat:function(t,e,r){return(100*e/r).toFixed(1)+"% "+t},labelSize:12,labelMargin:2,chartData:{}}).feed({data:[{label:"中文pie",data:4},{label:"中文pie2",data:42},{label:"pie1",data:12},{label:"pie2",data:4},{label:"pie2",data:4},{label:"pie1",data:23},{label:"pie2",data:4},{label:"pie1",data:44},{label:"pie2",data:4}]}),new r.default({canvasId:"ring",type:"ring",labelSize:14}).feed({data:[{label:"pie1",data:4},{label:"pie2",data:4},{label:"pie1",data:4},{label:"pie2",data:4}]});var o=new r.default({canvasId:"line",type:"line",xLabelNum:5,axisFontSize:14,xLabelFormat:function(t){return t+"m"},yLabelFormat:function(t){return t+"m²"},xLabelAlign:"start",yMin:0});o.feed({data:[[-7,49],[-6,36],[-5,25],[-4,16],[-3,9],[-2,4],[-1,1],[0,0],[1,1],[2,4],[3,9],[4,16],[5,25],[6,36],[7,49]]}),document.getElementById("line-btn").addEventListener("click",function(){o.feed({data:[[-7,49],[-6,36],[-5,25],[-4,16],[-3,9],[-2,4],[-1,1],[0,0],[1,1],[2,4],[3,9],[4,16],[5,25],[6,36],[7,49]]})}),new r.default({canvasId:"bar",type:"bar",xLabels:[]}).feed({data:[{label:"周一",data:4},{label:"周二",data:7},{label:"周二",data:8},{label:"周四",data:12}]}),new r.default({canvasId:"stack-bar",type:"stack-bar",legends:["清醒","深睡","浅睡"],yLabelFormat:function(t){return t+"h"}}).feed({data:[{label:"周一",data:[4,2,1]},{label:"周二",data:[3,5,2]},{label:"周二",data:[1,7,4]},{label:"周四",data:[8,4,1]}]})}},n={};function a(t){if(n[t])return n[t].exports;var e=n[t]={exports:{}};return r[t](e,e.exports,a),e.exports}return a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a(352)})()});